/* Font faces */
@import 'tailwindcss';

/* SheerID iframe styling - center the form */
.sheerid-container {
  /* Center the SheerID iframe - no width constraint */
  display: flex;
  justify-content: center;
  align-items: flex-start;
}

.sid-inline-iframe {
  /* Let SheerID handle all sizing automatically */
  border: none !important;
}

/* Font rendering improvements to fix ghosting */

/*
  The default border color has changed to `currentcolor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-gray-200, currentcolor);
  }
}

@layer base {
  /* Custom checkbox styling with background color and checkmark */
  input[type="checkbox"]:checked {
    background-color: #1a1a1a !important;
    background-image: url("data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='white' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z'/%3e%3c/svg%3e") !important;
    background-size: 100% 100% !important;
    background-position: center !important;
    background-repeat: no-repeat !important;
  }

  /* Remove unwanted selection boxes and outlines from checkboxes */
  input[type="checkbox"] {
    outline: none !important;
    box-shadow: none !important;
    -webkit-appearance: none !important;
    -moz-appearance: none !important;
    appearance: none !important;
  }

  /* Remove selection highlighting */
  input[type="checkbox"]:focus {
    outline: none !important;
    box-shadow: 0 0 0 2px rgba(26, 26, 26, 0.2) !important;
  }

  /* Remove any persistent selection states */
  input[type="checkbox"]:active,
  input[type="checkbox"]:focus:active {
    outline: none !important;
    box-shadow: none !important;
  }
}

@layer utilities {
  /* Standard Button System - Consistent across entire site */
  .btn-primary {
    @apply w-full border border-transparent rounded py-2 px-5 flex items-center justify-center text-base font-medium text-white bg-[#d42838] hover:bg-black focus:outline-hidden focus:ring-0 shadow-none transition-all duration-300 cursor-pointer;
    font-family: var(--font-heading);
  }
  .btn-secondary {
    @apply w-full border border-black rounded py-2 px-5 flex items-center justify-center text-base font-medium text-black bg-white hover:bg-gray-100 focus:outline-hidden focus:ring-0 shadow-none transition-all duration-300 cursor-pointer;
    font-family: var(--font-heading);
  }

  /* Standard Link Button - For hero and CTA buttons */
  .btn-link {
    @apply inline-block text-center font-bold tracking-wide uppercase transition-all duration-300 cursor-pointer text-white bg-[#d42838] hover:bg-black focus:outline-hidden focus:ring-0 shadow-none;
    font-family: var(--font-heading);
  }

  /* Standard sizes for consistent button sizing */
  .btn-sm {
    @apply px-4 py-2 text-sm;
  }
  .btn-md {
    @apply px-6 py-3 text-base;
  }
  .btn-lg {
    @apply px-8 py-4 text-lg;
  }
  .input-text {
    @apply appearance-none min-w-0 w-full bg-white border border-gray-300 rounded-none py-2 px-4 text-base text-black placeholder-gray-400 focus:outline-hidden focus:ring-0 focus:border-black transition-none;
  }
  .card {
    @apply bg-white rounded-none border border-gray-200 shadow-none transition-none;
  }
  .brand-text {
    font-family: var(--font-heading);
  }
  .text-brand-red {
    color: #d42838;
  }
  .text-brand-red-hover {
    color: #c73030;
  }
}

@layer base {
  @font-face {
    font-display: swap;
    font-family: 'Playfair Display';
    font-style: normal;
    font-weight: 400;
    src: url('/fonts/playfair-display/playfair-display-v37-latin-regular.woff2')
      format('woff2');
  }

  @font-face {
    font-display: swap;
    font-family: 'Playfair Display';
    font-style: normal;
    font-weight: 700;
    src: url('/fonts/playfair-display/playfair-display-v37-latin-700.woff2')
      format('woff2');
  }

  @font-face {
    font-display: swap;
    font-family: 'Inter';
    font-style: normal;
    font-weight: 400;
    src: url('/fonts/inter/inter-v19-latin-regular.woff2') format('woff2');
  }

  @font-face {
    font-display: swap;
    font-family: 'Inter';
    font-style: normal;
    font-weight: 500;
    src: url('/fonts/inter/inter-v19-latin-500.woff2') format('woff2');
  }

  /* Remove universal font smoothing - apply selectively instead */
}

@layer utilities {
  :root {
    --font-heading: 'Playfair Display', 'Times New Roman', serif;
    --font-body:
      'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui,
      sans-serif;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-family: var(--font-heading);
    font-weight: 700;
    line-height: 1.2;
    /* Antialiased works well for headings/serif fonts */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  h1 {
    font-size: clamp(2rem, 5vw, 3.5rem);
  }
  h2 {
    font-size: clamp(1.5rem, 4vw, 2.5rem);
  }
  h3 {
    font-size: clamp(1.25rem, 3vw, 1.75rem);
  }

  body,
  p,
  li,
  span,
  div {
    font-family: var(--font-body);
    font-weight: 400;
    line-height: 1.6;
    /* Subpixel antialiasing reduces ghosting for body text */
    -webkit-font-smoothing: subpixel-antialiased;
    -moz-osx-font-smoothing: auto;
    /* Remove text-rendering: optimizeLegibility - can cause ghosting */
  }

  strong,
  b {
    font-weight: 500;
  }

  /* Anti-ghosting fixes for common problem elements */
  button,
  input,
  textarea,
  select {
    -webkit-font-smoothing: subpixel-antialiased;
    -moz-osx-font-smoothing: auto;
  }

  /* Fix ghosting on transformed elements */
  .transform,
  [style*="transform"],
  .animate-fade-in,
  .animate-scale-in,
  .animate-pulse-once {
    -webkit-font-smoothing: subpixel-antialiased;
    -moz-osx-font-smoothing: auto;
    /* Force hardware acceleration to prevent ghosting */
    transform: translateZ(0);
    will-change: transform;
  }

  /* Fix ghosting on elements with opacity changes */
  [style*="opacity"],
  .opacity-0,
  .opacity-25,
  .opacity-50,
  .opacity-75 {
    -webkit-font-smoothing: subpixel-antialiased;
    -moz-osx-font-smoothing: auto;
  }

  /* Fix ghosting on lazy-loaded sections and conditional content */
  section[ref],
  .lazy-section,
  [data-lazy] {
    -webkit-font-smoothing: subpixel-antialiased;
    -moz-osx-font-smoothing: auto;
    /* Prevent layout shifts from causing ghosting */
    contain: layout style;
  }

  /* Specific fix for mixed-color headings like "OUR STORY" */
  h2 span[class*="text-"],
  h1 span[class*="text-"],
  h3 span[class*="text-"] {
    /* Force consistent rendering for colored spans within headings */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    /* Prevent color changes from affecting font rendering */
    text-rendering: geometricPrecision;
  }
}

@layer base {
	body {
		font-family: var(--font-body);
		background-color: #fff;
		color: #111;
		/* Ensure body uses subpixel antialiasing */
		-webkit-font-smoothing: subpixel-antialiased;
		-moz-osx-font-smoothing: auto;
	}

	/* Fix ghosting on modal and overlay elements */
	.modal,
	.overlay,
	.backdrop,
	[role="dialog"],
	.fixed {
		-webkit-font-smoothing: subpixel-antialiased;
		-moz-osx-font-smoothing: auto;
		/* Prevent backdrop-filter from causing ghosting */
		-webkit-backface-visibility: hidden;
		backface-visibility: hidden;
	}

	/* Force hardware acceleration for lazy-loaded content to prevent ghosting */
	section {
		/* Ensure all sections render consistently */
		-webkit-font-smoothing: subpixel-antialiased;
		-moz-osx-font-smoothing: auto;
		/* Force GPU rendering for smooth transitions */
		transform: translateZ(0);
		will-change: auto;
	}

	/* Override for headings within sections to maintain crisp rendering */
	section h1,
	section h2,
	section h3,
	section h4,
	section h5,
	section h6 {
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		/* Ensure headings stay crisp even with hardware acceleration */
		text-rendering: geometricPrecision;
	}
}

/* iOS Advanced Privacy Protection fixes */
:root {
	--vh: 1vh;
	--safe-area-inset-top: 0px;
	--safe-area-inset-bottom: 0px;
	--safe-area-inset-left: 0px;
	--safe-area-inset-right: 0px;
}

/* iOS viewport fixes */

/* Prevent mobile zoom on input focus by ensuring min font-size 16px */
input[type="text"], input[type="search"], input[type="email"], input[type="password"], textarea {
  font-size: 16px !important;
}

@supports (-webkit-touch-callout: none) {
	.min-h-screen {
		min-height: calc(var(--vh, 1vh) * 100);
	}
	
	/* Handle iOS safe areas */
	.safe-area-top {
		padding-top: var(--safe-area-inset-top);
	}
	
	.safe-area-bottom {
		padding-bottom: var(--safe-area-inset-bottom);
	}
	
	.safe-area-left {
		padding-left: var(--safe-area-inset-left);
	}
	
	.safe-area-right {
		padding-right: var(--safe-area-inset-right);
	}
}

/* Prevent iOS zoom on input focus */
@media screen and (-webkit-min-device-pixel-ratio: 0) {
	input[type="text"],
	input[type="email"],
	input[type="password"],
	input[type="search"],
	input[type="tel"],
	input[type="url"],
	textarea {
		font-size: 16px !important;
	}
}

/* Disable problematic iOS behaviors that trigger privacy warnings */
* {
	-webkit-touch-callout: none;
	-webkit-tap-highlight-color: transparent;
}

/* Re-enable text selection where needed */
input,
textarea,
[contenteditable],
.selectable {
	-webkit-user-select: text;
	user-select: text;
}

/* iOS scroll behavior fixes */
body {
	-webkit-overflow-scrolling: touch;
}

/* iPad-specific fixes - ensure normal scrolling on iPad even with external keyboard */
@supports (-webkit-touch-callout: none) {
	/* Override full-page scrolling on iPad devices */
	@media (min-width: 1024px) {
		body {
			overflow: auto !important;
		}
		
		html {
			overflow: auto !important;
		}
		
		.fullpage-container {
			height: auto !important;
			overflow: visible !important;
		}
		
		.fullpage-wrapper {
			display: block !important;
			width: 100vw !important;
			transform: none !important;
			transition: none !important;
		}
		
		.fullpage-section {
			height: auto !important;
			min-height: 100vh !important;
			width: 100vw !important;
			position: relative !important;
			flex-shrink: 1 !important;
		}
		
		/* iPad-specific hero content positioning - ensure text stays at bottom */
		.fullpage-section.hero-section {
			display: flex !important;
			flex-direction: column !important;
			height: 100vh !important;
			min-height: 100vh !important;
		}
		
		.fullpage-section.hero-section > div:last-child {
			height: 100% !important;
			display: flex !important;
			flex-direction: row !important;
			align-items: flex-end !important;
			justify-content: space-between !important;
		}
		
		/* iPad-specific hero text positioning - match desktop layout */
		.fullpage-section.hero-section .text-center {
			text-align: left !important;
		}
	}
}

/* Fix iOS status bar overlap */
@media only screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3),
only screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2),
only screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) {
	.sticky {
		top: var(--safe-area-inset-top);
	}
}

/* Footer is now always integrated into the 3rd section - no separate footer needed */

/* Custom animations for product detail enhancements */
@keyframes fade-in {
  0% {
    opacity: 0;
    transform: translateY(10px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes scale-in {
  0% {
    opacity: 0;
    transform: scale(0.9);
  }
  100% {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes pulse-once {
  0%, 100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.05);
  }
}

.animate-fade-in {
  animation: fade-in 0.3s ease-out forwards;
}

.animate-scale-in {
  animation: scale-in 0.3s ease-out forwards;
}

.animate-pulse-once {
  animation: pulse-once 0.6s ease-in-out;
}
